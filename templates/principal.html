<!DOCTYPE html>
<html lang="es" data-bs-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Personal Médico-Hospital</title>
 <!-- Bootstrap CSS -->
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

 <!-- Font Awesome -->
 <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
 <!-- DataTables CSS -->
 <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
 <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.1/font/bootstrap-icons.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

 <!-- CSS personalizado -->
 <link rel="stylesheet" href="{{ url_for('static', filename='css/custom-theme.css') }}">
 <link rel="stylesheet" href="{{ url_for('static', filename='css/personal.css') }}">
 <link rel="stylesheet" href="{{ url_for('static', filename='css/principal.css') }}">
 <style>
    #contenido{
  margin-left: 14.66%;
  padding: 20px;
  width: 85.34%;
}
</style>
</head>
<body>
    <nav id="encabezado" class="navbar">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <span class="navbar-brand mb-0 h1" style="color: white; font-size: 17px; font-weight: bold; text-transform: uppercase; background-color: #16407d; padding: 8px; border-radius: 40px;">
                <i class="fas fa-hospital"></i> Hospital {{ nombre_hospital }}
            </span>
            <div class="d-flex align-items-center">
                <span class="navbar-text" style="color: white; font-size: 17px; font-weight: bold; text-transform: uppercase; background-color: #16407d; padding: 8px; border-radius: 40px;">
                    <i class="fas fa-user-circle" style="margin-right: 5px; font-size: 24px;"></i>{{ user_email }}
                </span>
                <div class="dropdown ms-3">
                    <button class="btn dropdown-toggle" type="button" id="themeDropdown" style="background-color: #3fb958; color: #ffff;" data-bs-toggle="dropdown" aria-expanded="false">
                        <i id="theme-icon" class="bi bi-brightness-high"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
                        <li><button class="dropdown-item" data-bs-theme-value="auto"><i class="bi bi-toggle2-on"></i> Auto</button></li>
                        <li><button class="dropdown-item" data-bs-theme-value="light"><i class="bi bi-brightness-high"></i> Día</button></li>
                        <li><button class="dropdown-item" data-bs-theme-value="dark"><i class="bi bi-moon"></i> Noche</button></li>
                    </ul>
                </div>                
            </div>            
        </div>
    </nav>       

    <div class="container-fluid">
        <div class="row">
            <!-- Navegador -->
            <div id="navegador" class="collapsed" class="bg-light">      
                <ul class="list-unstyled">
                    <li class="show"><a href="/principal" class="text-decoration-none"><i class="fas fa-user"></i> Pacientes</a></li>
                    <li class="show"><a href="/citas_medicas" class="text-decoration-none"><i class="far fa-calendar-alt"></i> Citas</a></li>
                    <li class="show"><a href="/medico_bot" class="text-decoration-none"><i class="fas fa-stethoscope"></i> Bot Médico</a></li>
                    {% if rol == 'administrador' %}
                    <li class="show"><a href="/personal" class="text-decoration-none"><i class="fas fa-user-md"></i> Personal Médico</a></li>
                    {% else %}
                    <li class="show" style="display:none;"><a href="/personal" class="text-decoration-none"><i class="fas fa-user-md"></i> Personal Médico</a></li>
                    {% endif %} 
                    <li class="show"><a href="/mapas_pacientes" class="text-decoration-none"><i class="fas fa-map-marker-alt"></i> Mapa Pacientes</a></li>
                    <li class="show"><a href="#" class="text-decoration-none"><i class="fas fa-cog"></i> Configuración</a></li>
                    <li class="show"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#confirmarCerrarSesionModal"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
                </ul>
            </div>

            <!-- Contenido -->
            <div id="contenido" class="main-content-expanded col">
                    <br>
                    <nav>
                        <div class="container-fluid">
                            <div class="input-group">
                                <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modal_reporte">Generar Reporte</button>
                            </div>
                        </div>
                    </nav>
                    <br>
                    <div class="custom-table-container">
                        <table id="data_table" class="table custom-table">
                            <thead>
                                <tr class="text-uppercase text-success">
                                    <th scope="col">Nombre</th>
                                    <th scope="col">DNI</th>
                                    <th scope="col">Correo</th>
                                    <th scope="col">Dirección</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Género</th>
                                    <th scope="col">Nacimiento</th>
                                    <th scope="col">Registro</th>
                                    <th scope="col">Estado</th>
                                    <th scope="col">Acciones</th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                <br>
                <!-- Alerta -->
                {% if tipo_alerta %}
                <div id="alerta" class="alert alert-{{ tipo_alerta }} alert-dismissible fade show position-fixed bottom-0 end-0" role="alert" style="width: 20%; bottom: 50px !important;">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>{{ mensaje_alerta }}</div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                </div>
                <script>
                    // Ocultar la alerta después de 5 segundos
                    setTimeout(function() {
                        var alerta = document.getElementById('alerta');
                        alerta.classList.remove('show');
                    }, 5000);
                </script>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Modal para registrar paciente -->
    <div class="modal fade" id="modal_paciente" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h5 class="modal-title" id="exampleModalLabel">Registro de Pacientes</h5>
                    <div class="input-container d-flex align-items-center ms-auto"> <!-- Usamos la clase ms-auto para alinear a la derecha -->
                        <form id="consultaForm" class="d-flex">
                            <input type="text" id="dniRellenar" name="dniRellenar" class="form-control custom-input me-2" required pattern="[0-9]{8}" title="El DNI debe contener solo 8 números" placeholder="DNI">
                            <label for="dni" class="custom-label"></label>
                            <button class="btn btn-success me-2" type="submit">Rellenar</button>
                        </form>
                    </div>
                </div>

                <form id="registro_form" action="/registrar_paciente" method="POST">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-container">
                                    <input type="text" id="nombre" name="nombre" class="form-control custom-input" required pattern="[A-Za-z\s]+" title="El nombre debe contener solo letras y espacios">
                                    <label for="nombre" class="custom-label">Nombre Completo</label>
                                </div>
                                <div class="input-container d-flex">
                                    <input type="text" id="dni" name="dni" class="form-control custom-input" required pattern="[0-9]{8}" title="El DNI debe contener solo 8 números" readonly>
                                    <label for="dni" class="custom-label">DNI</label>
                                </div>
                                <div class="input-container">
                                    <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control custom-input" required>
                                    <label for="fecha_nacimiento" class="custom-label">Fecha de Nacimiento</label>
                                </div>
                                <div class="input-container">
                                    <select id="genero" name="genero" class="form-select form-select-lg custom-input" required>
                                        <option value=""></option>
                                        <option value="masculino">Masculino</option>
                                        <option value="femenino">Femenino</option>
                                        <option value="otro">Otro</option>
                                    </select>
                                    <label for="genero" class="custom-label">Género</label>
                                </div>
                                <div class="input-container">
                                    <input type="email" id="correo" name="correo" class="form-control custom-input" required title="Ingrese un correo electrónico válido">
                                    <label for="correo" class="custom-label">Correo Electrónico</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-container">
                                    <input type="number" id="telefono" name="telefono" class="form-control custom-input" required pattern="[0-9]{1,9}" title="El teléfono debe contener solo números y tener máximo 9 caracteres" maxlength="9">
                                    <label for="telefono" class="custom-label">Teléfono</label>
                                </div>
                                <div class="input-container">
                                    <input type="text" id="direccion" name="direccion" class="form-control custom-input" required title="Ingrese una direccion valida">
                                    <label for="telefono" class="custom-label">Direccion</label>
                                </div>
                                <div class="input-container">
                                    <input type="date" id="fecha_cita" name="fecha_cita" class="form-control custom-input" required>
                                    <label for="fecha_cita" class="custom-label">Fecha Cita Medica</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="consulta_medica" name="consulta_medica" class="form-control form-control-lg custom-input" rows="4" required></textarea>
                                    <label for="consulta_medica" class="custom-label">Consulta Médica</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="text" id="especialista" name="especialista" class="form-control custom-input" required pattern="[A-Za-z\s]+" title="El nombre del especialista debe contener solo letras y espacios">
                                    <label for="especialista" class="custom-label">Especialista</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="presion_arterial" name="presion_arterial" class="form-control custom-input"  pattern="[0-9.]+" title="La presión arterial debe contener solo números y puntos (por ejemplo, 120.5)">
                                    <label for="presion_arterial" class="custom-label">Presión Arterial</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="saturacion" name="saturacion" class="form-control custom-input"  pattern="[0-9.]+" title="La saturación debe contener solo números y puntos (por ejemplo, 95.5)">
                                    <label for="saturacion" class="custom-label">Saturación (%)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="temperatura" name="temperatura" class="form-control custom-input"  pattern="[0-9.]+" title="La temperatura debe contener solo números y puntos (por ejemplo, 37.5)">
                                    <label for="temperatura" class="custom-label">Temperatura</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="peso" name="peso" class="form-control custom-input"  pattern="[0-9.]+" title="El peso debe contener solo números y puntos (por ejemplo, 65.5)">
                                    <label for="peso" class="custom-label">Peso (kg)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="frecuencia_respiratoria" name="frecuencia_respiratoria" class="form-control custom-input"  pattern="[0-9.]+" title="La frecuencia respiratoria debe contener solo números y puntos (por ejemplo, 18.5)">
                                    <label for="frecuencia_respiratoria" class="custom-label">Frecuencia Respiratoria (x')</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="talla" name="talla" class="form-control custom-input"  pattern="[0-9.]+" title="La talla debe contener solo números y puntos (por ejemplo, 170.5)">
                                    <label for="talla" class="custom-label">Talla (cm)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="frecuencia_cardiaca" name="frecuencia_cardiaca" class="form-control custom-input"  pattern="[0-9.]+" title="La frecuencia cardíaca debe contener solo números y puntos (por ejemplo, 80.5)">
                                    <label for="frecuencia_cardiaca" class="custom-label">Frecuencia Cardíaca (x')</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="imc" name="imc" class="form-control custom-input"  pattern="[0-9.]+" title="El IMC debe contener solo números y puntos (por ejemplo, 25.5)">
                                    <label for="imc" class="custom-label">IMC</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        <button type="submit" class="btn btn-primary">Registrar Paciente</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

<!-- Modal para mostrar detalles del paciente -->
<div class="modal fade" id="detallesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title" id="exampleModalLabel" style="font-family: 'Times New Roman', serif;">Detalles del paciente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="font-family: 'Times New Roman', serif;">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <div style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; border-radius: 10px;">
                                <h4 style="font-weight: bold; color: #008080;">Información Personal</h4>
                                <p><strong>Nombre:</strong> <span id="nombrePaciente"></span></p>
                                <p><strong>DNI:</strong> <span id="dniPaciente"></span></p>
                                <p><strong>Correo:</strong> <span id="correoPaciente"></span></p>
                                <p><strong>Dirección:</strong> <span id="direccionPaciente"></span></p>
                                <p><strong>Teléfono:</strong> <span id="telefonoPaciente"></span></p>
                                <p><strong>Género:</strong> <span id="generoPaciente"></span></p>
                                <p><strong>Fecha de nacimiento:</strong> <span id="fechaNacimientoPaciente"></span></p>
                                <p><strong>Hora de registro:</strong> <span id="horaRegistroPaciente"></span></p>
                                <p><strong>Estado:</strong> <span id="estadoPaciente"></span></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; border-radius: 10px;">
                                <h4 style="font-weight: bold; color: #008080;">Información Médica</h4>
                                <p><strong>Consulta médica:</strong> <span id="consultaMedicaPaciente"></span></p>
                                <p><strong>Especialista:</strong> <span id="especialistaPaciente"></span></p>
                                <p><strong>Frecuencia cardíaca:</strong> <span id="frecuenciaCardiacaPaciente"></span></p>
                                <p><strong>Frecuencia respiratoria:</strong> <span id="frecuenciaRespiratoriaPaciente"></span></p>
                                <p><strong>IMC:</strong> <span id="imcPaciente"></span></p>
                                <p><strong>Peso:</strong> <span id="pesoPaciente"></span></p>
                                <p><strong>Presión arterial:</strong> <span id="presionArterialPaciente"></span></p>
                                <p><strong>Saturación:</strong> <span id="saturacionPaciente"></span></p>
                                <p><strong>Talla:</strong> <span id="tallaPaciente"></span></p>
                                <p><strong>Temperatura:</strong> <span id="temperaturaPaciente"></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal para editar detalles del paciente -->
<div class="modal fade" id="editarModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title" id="exampleModalLabel">Editar detalles del paciente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
                <form id="registro_form" action="/editar_paciente" method="POST">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-container">
                                    <input type="text" id="nombreEdit" name="nombreEdit" class="form-control custom-input" required pattern="[A-Za-z\s]+" title="El nombre debe contener solo letras y espacios">
                                    <label for="nombre" class="custom-label">Nombre Completo</label>
                                </div>
                                <div class="input-container">
                                    <input type="text" id="dniEdit" name="dniEdit" class="form-control custom-input" required pattern="[0-9]{8}" title="El DNI debe contener solo 8 números" readonly>
                                    <label for="dni" class="custom-label">DNI</label>
                                </div>
                                <div class="input-container">
                                    <input type="date" id="fechaNacimientoEdit" name="fechaNacimientoEdit" class="form-control custom-input" required>
                                    <label for="fecha_nacimiento" class="custom-label">Fecha de Nacimiento</label>
                                </div>
                                <div class="input-container">
                                    <select id="generoEdit" name="generoEdit" class="form-select form-select-lg custom-input" required>
                                        <option value=""></option>
                                        <option value="masculino">Masculino</option>
                                        <option value="femenino">Femenino</option>
                                        <option value="otro">Otro</option>
                                    </select>
                                    <label for="genero" class="custom-label">Género</label>
                                </div>
                                <div class="input-container">
                                    <input type="email" id="correoEdit" name="correoEdit" class="form-control custom-input" required title="Ingrese un correo electrónico válido">
                                    <label for="correo" class="custom-label">Correo Electrónico</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-container">
                                    <input type="number" id="telefonoEdit" name="telefonoEdit" class="form-control custom-input" required pattern="[0-9]{1,9}" title="El teléfono debe contener solo números y tener máximo 9 caracteres" maxlength="9">
                                    <label for="telefono" class="custom-label">Teléfono</label>
                                </div>
                                <div class="input-container">
                                    <input type="text" id="direccionEdit" name="direccionEdit" class="form-control custom-input" required title="Ingrese una direccion valida">
                                    <label for="direccion" class="custom-label">Direccion</label>
                                </div>
                                <div class="input-container">
                                    <input type="text" id="horaRegistroEdit" name="horaRegistroEdit" class="form-control custom-input" readonly>
                                    <label for="hora_registro" class="custom-label">Hora Registro</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="consultaMedicaEdit" name="consultaMedicaEdit" class="form-control form-control-lg custom-input" rows="4" required></textarea>
                                    <label for="consulta_medica" class="custom-label">Consulta Médica</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="text" id="especialistaEdit" name="especialistaEdit" class="form-control custom-input" required pattern="[A-Za-z\s]+" title="El nombre del especialista debe contener solo letras y espacios">
                                    <label for="especialista" class="custom-label">Especialista</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="presionArterialEdit" name="presionArterialEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La presión arterial debe contener solo números y puntos (por ejemplo, 120.5)">
                                    <label for="presion_arterial" class="custom-label">Presión Arterial</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="saturacionEdit" name="saturacionEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La saturación debe contener solo números y puntos (por ejemplo, 95.5)">
                                    <label for="saturacion" class="custom-label">Saturación (%)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="temperaturaEdit" name="temperaturaEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La temperatura debe contener solo números y puntos (por ejemplo, 37.5)">
                                    <label for="temperatura" class="custom-label">Temperatura</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="pesoEdit" name="pesoEdit" class="form-control custom-input" required pattern="[0-9.]+" title="El peso debe contener solo números y puntos (por ejemplo, 65.5)">
                                    <label for="peso" class="custom-label">Peso (kg)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="frecuenciaRespiratoriaEdit" name="frecuenciaRespiratoriaEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La frecuencia respiratoria debe contener solo números y puntos (por ejemplo, 18.5)">
                                    <label for="frecuencia_respiratoria" class="custom-label">Frecuencia Respiratoria (x')</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="tallaEdit" name="tallaEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La talla debe contener solo números y puntos (por ejemplo, 170.5)">
                                    <label for="talla" class="custom-label">Talla (cm)</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="frecuenciaCardiacaEdit" name="frecuenciaCardiacaEdit" class="form-control custom-input" required pattern="[0-9.]+" title="La frecuencia cardíaca debe contener solo números y puntos (por ejemplo, 80.5)">
                                    <label for="frecuencia_cardiaca" class="custom-label">Frecuencia Cardíaca (x')</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <input type="number" id="imcEdit" name="imcEdit" class="form-control custom-input" required pattern="[0-9.]+" title="El IMC debe contener solo números y puntos (por ejemplo, 25.5)">
                                    <label for="imc" class="custom-label">IMC</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="input-container">
                                    <select id="estadoEdit" name="estadoEdit" class="form-select form-select-lg custom-input" required>
                                        <option value=""></option>
                                        <option value="Pendiente">Pendiente</option>
                                        <option value="Atendido">Atendido</option>
                                        <option value="Reprogramar">Reprogramar</option>
                                    </select>
                                    <label for="estadoEdit" class="custom-label">Estado</label>
                                </div>
                            </div>
                            <input type="hidden" name="latEditar" id="latEditar">
                            <input type="hidden" name="lngEditar" id="lngEditar">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary" id="guardarCambios">Guardar Cambios</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

<!-- Modal de confirmación para eliminar paciente -->
<div class="modal fade" id="confirmarEliminarModal" tabindex="-1" aria-labelledby="confirmarEliminarModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="confirmarEliminarModalLabel">Confirmar Eliminación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-footer">
                <form id="formEliminarPaciente" action="/eliminar_paciente" method="post">
                    <input type="hidden" name="dniDelete" id="dniDelete">
                    <input type="hidden" name="horaRegistroDelete" id="horaRegistroDelete">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                    <button type="submit" class="btn btn-danger">Sí</button>
                </form>
            </div>
        </div>
    </div>
</div>

    <!-- Modal para generar reportes médico -->
    <div class="modal fade" id="modal_reporte" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="exampleModalLabel">Reporte Médico</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="registro_form" action="/registrar_reporte" method="POST">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-container">
                                    <input type="text" id="nombre_paciente" name="nombre_paciente" class="form-control custom-input" required pattern="[A-Za-z\s]+" title="El nombre debe contener solo letras y espacios">
                                    <label for="nombre_paciente" class="custom-label">Nombre Paciente</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="tratamiento_recomendado" name="tratamiento_recomendado" class="form-control custom-input" required title="Ingrese un tratamiento válido"></textarea>
                                    <label for="tratamiento_recomendado" class="custom-label">Tratamiento Recomendado</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="diagnostico" name="diagnostico" class="form-control custom-input" required title="Ingrese un diagnóstico válido"></textarea>
                                    <label for="diagnostico" class="custom-label">Diagnóstico</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-container">
                                    <textarea id="observaciones" name="observaciones" class="form-control custom-input" required title="Ingrese observaciones válidas"></textarea>
                                    <label for="observaciones" class="custom-label">Observaciones</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="resultados_examenes" name="resultados_examenes" class="form-control custom-input" required title="Ingrese resultados válidos"></textarea>
                                    <label for="resultados_examenes" class="custom-label">Resultados de Exámenes</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="observaciones_adicionales" name="observaciones_adicionales" class="form-control custom-input" title="Ingrese observaciones adicionales válidas"></textarea>
                                    <label for="observaciones_adicionales" class="custom-label">Observaciones Adicionales</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="input-container">
                                    <textarea id="medicamentos_recetados" name="medicamentos_recetados" class="form-control custom-input" required title="Ingrese medicamentos válidos"></textarea>
                                    <label for="medicamentos_recetados" class="custom-label">Medicamentos Recetados</label>
                                </div>
                                <div class="input-container">
                                    <input type="date" id="proxima_cita" name="proxima_cita" class="form-control custom-input" required>
                                    <label for="proxima_cita" class="custom-label">Próxima Cita</label>
                                </div>
                                <div class="input-container">
                                    <textarea id="observaciones_seguimiento" name="observaciones_seguimiento" class="form-control custom-input" required title="Ingrese observaciones de seguimiento válidas"></textarea>
                                    <label for="observaciones_seguimiento" class="custom-label">Observaciones de Seguimiento</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        <button type="submit" class="btn btn-primary">Guardar Registro</button>
                    </div>
                </form>
            </div>
        </div>
    </div>   

<!-- Modal de confirmación para cerrar sesión -->
<div class="modal fade" id="confirmarCerrarSesionModal" tabindex="-1" aria-labelledby="confirmarCerrarSesionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title" id="confirmarCerrarSesionModalLabel">Confirmar Cierre de Sesión</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <a href="/logout" class="btn btn-danger">Cerrar Sesión</a>
            </div>
        </div>
    </div>
</div>
<footer class="text-center text-white fixed-bottom" style="height: 45px;">
    <div class="container h-100 d-flex align-items-center justify-content-center">
        <div class="row w-100">
            <div class="col-lg-12">
                &copy; 2024 Creado por Carlos Galloso
            </div>
        </div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- DataTables JS -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<!-- Script personalizado -->
<script src="{{ url_for('static', filename='js/principal.js') }}"></script>
<script src="{{ url_for('static', filename='js/theme-switcher.js') }}"></script>
<script>
    function toggleNav() {
    var navegador = document.getElementById('navegador');
    navegador.classList.toggle('collapsed');
    var toggleBtn = document.getElementById('toggleBtn');
    toggleBtn.classList.toggle('active')
}
</script>
</body>
</html>
